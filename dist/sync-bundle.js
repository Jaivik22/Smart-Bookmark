import{d as a,a as i,e as l}from"./firebase-bundle.js";document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("syncCode"),s=document.getElementById("submitCode"),d=document.getElementById("codeDisplay"),c=window.browser||window.chrome;s.addEventListener("click",async()=>{const e=n.value.trim();if(!e||!/^\d{6}$/.test(e)){console.log("Invalid input: Please enter a valid 6-digit code"),alert("Please enter a valid 6-digit code");return}try{console.log("Checking sync code:",e);const t=a(i,"users",e),o=await l(t);console.log("Firebase getDoc response:",{exists:o.exists(),data:o.data(),id:o.id}),o.exists()?(await new Promise(r=>{c.storage.sync.set({syncCode:e},r)}),console.log("Sync code updated to:",e),d.textContent=`Your Bookmarks are synced to: ${e}`,n.value="",window.location.reload()):console.log("No user document found for code:",e)}catch(t){console.error("Error checking sync code in Firebase:",t)}})});
