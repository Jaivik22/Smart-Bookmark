import{d as r,a as i,e as l}from"./firebase-bundle.js";document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("syncCode"),d=document.getElementById("submitCode"),t=document.getElementById("codeDisplay"),n=window.browser||window.chrome;function c(){return Math.floor(1e5+Math.random()*9e5).toString()}function a(){n.storage.sync.get("syncCode",e=>{if(e.syncCode)t.textContent=`Your Bookmarksa are synced to: ${e.syncCode}`;else{const o=c();n.storage.sync.set({syncCode:o},()=>{t.textContent=`Your Bookmarks are synced to: ${o}`})}})}d.addEventListener("click",async()=>{const e=s.value.trim();if(!e||!/^\d{6}$/.test(e)){console.log("Please enter a valid 6-digit code");return}const o=r(i,"users",e);(await l(o)).exists()?n.storage.sync.set({syncCode:e},()=>{console.log("Sync code updated to:",e),t.textContent=`Your Bookmarks are synced to: ${e}`,console.log("Bookmarks now synced with code: "+e),s.value="",window.location.reload()}):console.log("Enter valid code")}),a()});
